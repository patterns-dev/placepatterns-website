function addTag(a){a=a.replace(/^\s+/,"").replace(/\s+$/,"");if(document.getElementById("adv-tags-input")){var c=document.getElementById("adv-tags-input");if(c.value.length>0&&!c.value.match(/,\s*$/)){c.value+=", ";}var b=new RegExp(a+",");if(!c.value.match(b)){c.value+=a+", ";}}else{a.replace(/\s+,+\s*/g,",").replace(/,+/g,",").replace(/,+\s+,+/g,",").replace(/,+\s*$/g,"").replace(/^\s*,+/g,"");if(jQuery("#new-tag-post_tag").val()==""){jQuery("#new-tag-post_tag").val(a);}else{jQuery("#new-tag-post_tag").val(jQuery("#new-tag-post_tag").val()+", "+a);}jQuery(".tagadd").click();}}